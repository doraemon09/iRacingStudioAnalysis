<div id="session_data" class="container-fluid" style="display: none;">
    <div class="row my-2">
        <div class="col-md-12">
            {% for key in yaml_info['Session'] %}
                <button class="btn btn-info" onclick="showSessionSection('{{ key }}')">
                    <span
                        data-en="{{ yaml_info['Session'][key]['Label']['en'] }}"
                        data-jp="{{ yaml_info['Session'][key]['Label']['jp'] }}"
                    >
                        {{ yaml_info['Session'][key]['Label']['en'] }}
                    </span>
                </button>
            {% endfor %}
        </div>
    </div>

    <!-- Weekend Info -->
    <div id="WeatherInfo" class="row my-2" style="display: none;">
        <div class="col-md-12">
            <table class="table table-hover">
                <thead class="table-dark">
                    <tr>
                        <th
                            scope="col"
                            data-en="{{ yaml_info['Session']['WeatherInfo']['Label']['en'] }}"
                            data-jp="{{ yaml_info['Session']['WeatherInfo']['Label']['jp'] }}"
                        >
                            {{ yaml_info['Session']['WeatherInfo']['Label']['en'] }}
                        </th>
                        <th scope="col" data-en="Value" data-jp="値">Value</th>
                    </tr>
                </thead>
                <tbody>
                    {% for weekend, info in session_info['WeekendInfo'].items() %}
                        <tr>
                            <th scope="row">{{ weekend }}</th>
                            {% if info is mapping %} <!-- use 'mapping' to check if dictionary -->
                                <td>
                                    <ul>
                                        {% for info_options, info_value in info.items() %}
                                            <li>{{ info_options }}: {{ info_value }}</li>
                                        {% endfor%}
                                    </ul>
                                </td>
                            {% else %}
                                <td>{{ info }}</td>
                            {% endif %}
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- Session Info -->
    <div id="SessionInfo" class="row my-2" style="display: none;">
        <div class="col-md-12">
            <table class="table table-hover">
                <thead class="table-dark">
                    <tr>
                        <th
                            scope="col"
                            data-en="{{ yaml_info['Session']['SessionInfo']['Label']['en'] }}"
                            data-jp="{{ yaml_info['Session']['SessionInfo']['Label']['jp'] }}"
                        >
                            {{ yaml_info['Session']['SessionInfo']['Label']['en'] }}
                        </th>
                        <th scope="col" data-en="Value" data-jp="値">Value</th>
                    </tr>
                </thead>
                <tbody>
                    {% for session_info in session_info['SessionInfo']['Sessions'] %}
                        {% for session, info in session_info.items() %}
                            <tr>
                                <th scope="row">{{ session }}</th>
                                {% if info is sequence and info|length == 1 %} <!-- use 'sequence' to check if list/tuple -->
                                    <td>
                                        <ul>
                                            {% for info_options in info %}
                                                {% for idx, val in info_options.items() %}
                                                    <li>{{ idx }}: {{ val }}</li>
                                                {% endfor %}
                                            {% endfor%}
                                        </ul>
                                    </td>
                                {% else %}
                                    <td>{{ info }}</td>
                                {% endif %}
                            </tr>
                        {% endfor %}
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- Qualify Results Info -->
    <div id="QualifyResultsInfo" class="row my-2" style="display: none;">
        <div class="col-md-12">
            <table class="table table-hover">
                <thead class="table-dark">
                    <tr>
                        <th
                            scope="col"
                            data-en="{{ yaml_info['Session']['QualifyResultsInfo']['Label']['en'] }}"
                            data-jp="{{ yaml_info['Session']['QualifyResultsInfo']['Label']['jp'] }}"
                        >
                            {{ yaml_info['Session']['QualifyResultsInfo']['Label']['en'] }}
                        </th>
                        <th scope="col" data-en="Value" data-jp="値">Value</th>
                    </tr>
                </thead>
                <tbody>
                    {% for qualify in session_info['QualifyResultsInfo']['Results'] %}
                        <tr>
                            <th scope="row">Position {{ qualify['Position'] }}</th>
                                <td>
                                    <ul>
                                        {% for qualify_options, qualify_values in qualify.items() %}
                                            <li>{{ qualify_options }}: {{ qualify_values }}</li>
                                        {% endfor %}
                                    </ul>
                                </td>
                            </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- Split Time Info -->
    <div id="SplitTimeInfo" class="row my-2" style="display: none;">
        <div class="col-md-12">
            <table class="table table-hover">
                <thead class="table-dark">
                    <tr>
                        <th
                            scope="col"
                            data-en="{{ yaml_info['Session']['SplitTimeInfo']['Label']['en'] }}"
                            data-jp="{{ yaml_info['Session']['SplitTimeInfo']['Label']['jp'] }}"
                        >
                            {{ yaml_info['Session']['SplitTimeInfo']['Label']['en'] }}
                        </th>
                        <th scope="col" data-en="Value" data-jp="値">Value</th>
                    </tr>
                </thead>
                <tbody>
                    {% for split_time in session_info['SplitTimeInfo']['Sectors'] %}
                        {% for sector, info in split_time.items() %}
                            <tr>
                                <th scope="row">{{ sector }}</th>
                                <td>{{ info }}</td>
                            </tr>
                        {% endfor %}
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- Car Setup -->
    <div id="CarSetup" class="row my-2" style="display: none;">
        <div class="col-md-12">
            <table class="table table-hover">
                <thead class="table-dark">
                    <tr>
                        <th
                            scope="col"
                            data-en="{{ yaml_info['Session']['CarSetup']['Label']['en'] }}"
                            data-jp="{{ yaml_info['Session']['CarSetup']['Label']['jp'] }}"
                        >
                            {{ yaml_info['Session']['CarSetup']['Label']['en'] }}
                        </th>
                        <th scope="col" data-en="Value" data-jp="値">Value</th>
                    </tr>
                </thead>
                <tbody>
                    {% for setup, info in session_info['CarSetup'].items() %}
                        <tr>
                            <th scope="row">{{ setup }}</th>
                            {% if info is mapping %} <!-- use 'mapping' to check if dictionary -->
                                <td>
                                    <ul>
                                        {% for info_options, info_value in info.items() %}
                                            {% if info_value is mapping %} <!-- use 'mapping' to check if dictionary -->
                                                <li>
                                                    {{ info_options }}
                                                    <ul>
                                                        {% for sub_options, sub_value in info_value.items() %}
                                                            <li>{{ sub_options }}: {{ sub_value }}</li>
                                                        {% endfor %}
                                                    </ul>
                                                </li>
                                            {% else %}
                                                <li>{{ info_options }}: {{ info_value }}</li>
                                            {% endif %}
                                        {% endfor%}
                                    </ul>
                                </td>
                            {% else %}
                                <td>{{ info }}</td>
                            {% endif %}
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- Driver Info -->
    <div id="DriverInfo" class="row my-2" style="display: none;">
        <div class="col-md-12">
            <table class="table table-hover">
                <thead class="table-dark">
                    <tr>
                        <th
                            scope="col"
                            data-en="{{ yaml_info['Session']['DriverInfo']['Label']['en'] }}"
                            data-jp="{{ yaml_info['Session']['DriverInfo']['Label']['jp'] }}"
                        >
                            {{ yaml_info['Session']['DriverInfo']['Label']['en'] }}
                        </th>
                        <th scope="col" data-en="Value" data-jp="値">Value</th>
                    </tr>
                </thead>
                <tbody>
                    {% for driver, info in session_info['DriverInfo'].items() %}
                        {% if driver == 'Drivers' %}
                            {% for info_options in info %}
                                <tr>
                                    <th scope="row">
                                        Driver
                                        {{ info_options['CarIdx'] }} -
                                        {{ info_options['UserName'] }}
                                        {% if info_options['CarIsAI'] %}(AI){% endif %}
                                    </th>
                                    <td>
                                        <ul>
                                            {% for sub_options, sub_values in info_options.items() %}
                                                <li>{{ sub_options }}: {{ sub_values }}</li>
                                            {% endfor %}
                                        </ul>
                                    </td>
                                </tr>
                            {% endfor %}
                        {% else %}
                            <tr>
                                <th scope="row">{{ driver }}</th>
                                <td>{{ info }}</td>
                            </tr>
                        {% endif%}
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- Radio Info -->
    <div id="RadioInfo" class="row my-2" style="display: none;">
        <div class="col-md-12">
            <table class="table table-hover">
                <thead class="table-dark">
                    <tr>
                        <th
                            scope="col"
                            data-en="{{ yaml_info['Session']['RadioInfo']['Label']['en'] }}"
                            data-jp="{{ yaml_info['Session']['RadioInfo']['Label']['jp'] }}"
                        >
                            {{ yaml_info['Session']['RadioInfo']['Label']['en'] }}
                        </th>
                        <th scope="col" data-en="Value" data-jp="値">Value</th>
                    </tr>
                </thead>
                <tbody>
                    {% for radio, info in session_info['RadioInfo'].items() %}
                        <tr>
                            <th scope="row">{{ radio }}</th>
                            <td>
                                {% if info[0] is mapping %}
                                    <ul>
                                        {% for sub_info_values in info %}
                                            {% for sub_options, sub_values in sub_info_values.items() %}
                                                <li>
                                                    {{ sub_options }}:
                                                    {% if sub_values[0] is mapping %}
                                                        {% for info_sub_values in sub_values %}
                                                            {% for sub_options2, sub_values2 in info_sub_values.items() %}
                                                                <ul>
                                                                    <li>{{ sub_options2 }}: {{ sub_values2 }}</li>
                                                                </ul>
                                                            {% endfor %}
                                                        {% endfor %}
                                                    {% else %}
                                                        {{ sub_values }}
                                                    {% endif %}
                                                </li>
                                            {% endfor %}
                                        {% endfor %}
                                    </ul>
                                {% else %}
                                    {{ info }}
                                {% endif %}
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!-- Camera Info -->
    <div id="CameraInfo" class="row my-2" style="display: none;">
        <div class="col-md-12">
            <table class="table table-hover">
                <thead class="table-dark">
                    <tr>
                        <th
                            scope="col"
                            data-en="{{ yaml_info['Session']['CameraInfo']['Label']['en'] }}"
                            data-jp="{{ yaml_info['Session']['CameraInfo']['Label']['jp'] }}"
                        >
                            {{ yaml_info['Session']['CameraInfo']['Label']['en'] }}
                        </th>
                        <th scope="col" data-en="Value" data-jp="値">Value</th>
                    </tr>
                </thead>
                <tbody>
                    {% for camera in session_info['CameraInfo']['Groups'] %}
                        <tr>
                            <th scope="row">Group {{ camera['GroupNum'] }}</th>
                            <td>
                                <ul>
                                    {% for info_options, info_values in camera.items() %}
                                        <li>
                                            {{ info_options }}:
                                            {% if info_values[0] is mapping %}
                                                <ul>
                                                    {% for info_sub_values in info_values %}
                                                        {% for sub_options, sub_values in info_sub_values.items() %}
                                                            <li>{{ sub_options }}: {{ sub_values }}</li>
                                                        {% endfor %}
                                                    {% endfor %}
                                                </ul>
                                            {% else %}
                                                {{ info_values }}
                                            {% endif %}
                                        </li>
                                    {% endfor %}
                                </ul>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
